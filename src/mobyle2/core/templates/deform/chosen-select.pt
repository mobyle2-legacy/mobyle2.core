<select
  name="${field.name}"
  multiple="${field.widget.get_multiple()}"
  id="${field.oid}"
  tal:attributes="size field.widget.size;
  style string:width:${field.widget.width};;;
  class field.widget.css_class">
  <option value="" name="Select..." i18n:attributes="name"/>
  <tal:block i18n:translate=""
    tal:repeat="(selected, value, description) field.widget.get_values(cstruct)">
    <option tal:condition="selected" selected="selected"
    class="${field.widget.css_class}" value="${value}">${description}</option> 
    <option tal:condition="not selected"
    class="${field.widget.css_class}" value="${value}">${description}</option>  
  </tal:block>
</select>
<script type="text/javascript">
deform.addCallback(
    '${field.oid}',
    function (oid) {
      var target_elem = $("#" + oid);
      var chozen_opts = JSON.parse('${field.widget.get_chosen_opts()}');
      var data_url = JSON.parse('${field.widget.get_data_url()}');
      if(data_url == null ) {
          target_elem.chosen(chozenopts);
      } else {
        target_elem.ajaxChosen(
           {method: 'GET', url: data_url, dataType: 'json'},
           function (data) {
             var terms = {};
             $.each(data, function (i, val){ terms[val[0]]=val[1];});
             return terms;  
           },
           chozen_opts);
        }
    });
</script>
